<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/admin-layout :: layout(~{::title}, ~{::mainContent})}">
<head>
  <title th:text="${isEditMode ? 'Chỉnh Sửa Nhân Viên' : 'Thêm Nhân Viên Mới'}">Form Nhân Viên</title>
  <meta charset="utf-8">
</head>
<body>
<main th:fragment="mainContent">
  <h2 class="section-title" th:text="${isEditMode ? 'Chỉnh Sửa Nhân Viên: ' + employeeForm.hoTen : 'Thêm Nhân Viên Mới'}">Form Nhân Viên</h2>
  <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

  <form th:action="${isEditMode ? '/admin/employees/update' : '/admin/employees/save'}"
        th:object="${employeeForm}" method="post" class="styled-form">
    <input type="hidden" th:if="${isEditMode}" th:field="*{maNV}" />

    <div class="form-group">
      <label for="maNVInput">Mã Nhân Viên:</label>
      <input type="text" id="maNVInput" th:field="*{maNV}" class="form-control" th:readonly="${isEditMode}" required />
      <small th:if="${#fields.hasErrors('maNV')}" th:errors="*{maNV}" class="form-error"></small>
    </div>
    <div class="form-group">
      <label for="hoTen">Họ Tên:</label>
      <input type="text" id="hoTen" th:field="*{hoTen}" class="form-control" required />
      <small th:if="${#fields.hasErrors('hoTen')}" th:errors="*{hoTen}" class="form-error"></small>
    </div>
    <div class="form-group">
      <label for="soDienThoai">Số Điện Thoại:</label>
      <input type="text" id="soDienThoai" th:field="*{soDienThoai}" class="form-control" />
    </div>
    <div class="form-group">
      <label for="gioiTinh">Giới Tính:</label>
      <select id="gioiTinh" th:field="*{gioiTinh}" class="form-control">
        <option value="Nam">Nam</option>
        <option value="Nữ">Nữ</option>
        <option value="Khác">Khác</option>
      </select>
    </div>
    <div class="form-group">
      <label for="ngaySinh">Ngày Sinh (yyyy-MM-dd):</label>
      <input type="date" id="ngaySinh" th:field="*{ngaySinh}" class="form-control" />
    </div>
    <div class="form-group">
      <label for="maChucVu">Chức Vụ:</label>
      <select id="maChucVu" th:field="*{maChucVu}" class="form-control" required>
        <option value="">-- Chọn Chức Vụ --</option>
        <option th:each="cv : ${danhSachChucVu}"
                th:value="${cv.maChucVu}"
                th:text="${cv.tenChucVu}">Nhân viên</option>
      </select>
      <small th:if="${#fields.hasErrors('maChucVu')}" th:errors="*{maChucVu}" class="form-error"></small>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn-submit">Lưu</button>
      <a th:href="@{/admin/employees}" class="btn-cancel">Hủy Bỏ</a>
    </div>
  </form>
</main>
</body>
</html>