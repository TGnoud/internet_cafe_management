<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:replace="${pageTitle}">Trang Quản Trị</title> <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #f4f7f6; display: flex; flex-direction: column; min-height: 100vh; }
    .admin-header { background-color: #2c3e50; color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; }
    .admin-header h1 { margin: 0; font-size: 1.8em; }
    .admin-nav ul { list-style-type: none; margin: 0; padding: 0; display: flex; }
    .admin-nav li a { color: white; text-decoration: none; padding: 10px 15px; display: block; }
    .admin-nav li a:hover, .admin-nav li a.active { background-color: #34495e; }
    .admin-main-container { flex-grow: 1; display: flex; }
    .sidebar { width: 220px; background-color: #34495e; color: #ecf0f1; padding-top: 20px; }
    .sidebar ul { list-style-type: none; padding: 0; margin: 0; }
    .sidebar li a { color: #ecf0f1; text-decoration: none; padding: 12px 20px; display: block; border-bottom: 1px solid #4a627a; }
    .sidebar li a:hover, .sidebar li a.active { background-color: #4a627a; }
    .admin-content { flex-grow: 1; padding: 20px; background-color: #fff; margin: 15px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
    .section-title { color: #2c3e50; border-bottom: 2px solid #bdc3c7; padding-bottom: 10px; margin-top: 0; margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; background-color: white; }
    th, td { text-align: left; padding: 12px; border-bottom: 1px solid #eee; }
    th { background-color: #f8f9fa; color: #34495e; font-weight: 600; }
    tr:hover { background-color: #f1f5f7; }
    .action-buttons a, .action-buttons button { margin-right: 5px; padding: 6px 12px; text-decoration: none; border-radius: 4px; font-size: 0.9em; }
    .btn-edit { background-color: #3498db; color: white; border:none; } .btn-edit:hover { background-color: #2980b9; }
    .btn-delete { background-color: #e74c3c; color: white; border:none; cursor:pointer; } .btn-delete:hover { background-color: #c0392b; }
    .btn-add { background-color: #2ecc71; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px; display: inline-block; margin-bottom: 20px;} .btn-add:hover { background-color: #27ae60; }
    /* Nút Đăng xuất */
    .logout-button { background-color: #e74c3c; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; }
    .logout-button:hover { background-color: #c0392b; }
  </style>
</head>
<body>
<header class="admin-header">
  <h1><a th:href="@{/admin/dashboard}" style="color:white; text-decoration:none;">Quản Trị Quán Net</a></h1>
  <nav class="admin-nav">
    <ul>
      <li><span style="color: #bdc3c7; padding: 10px 15px;" th:text="${#authentication != null ? #authentication.name : 'Khách'}"></span></li>
      <li>
        <form id="logoutPerformForm" th:action="@{/logout_perform}" method="post" style="display: inline;">
          <button type="submit" class="logout-button">Đăng xuất</button>
        </form>
      </li>
    </ul>
  </nav>
</header>

<div class="admin-main-container">
  <aside class="sidebar">
    <ul>
      <li><a th:href="@{/admin/dashboard}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/dashboard') ? 'active' : ''}">Tổng Quan</a></li>
      <li><a th:href="@{/admin/computers}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/computers') ? 'active' : ''}">Quản Lý Máy Tính</a></li>
      <li><a th:href="@{/admin/services}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/services') ? 'active' : ''}">Quản Lý Dịch Vụ</a></li>
      <li><a th:href="@{/admin/accounts}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/accounts') ? 'active' : ''}">Quản Lý Tài Khoản</a></li>
      <li><a th:href="@{/admin/sessions}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/sessions') ? 'active' : ''}">Phiên Sử Dụng</a></li>
      <li><a th:href="@{/admin/employees}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/employees') ? 'active' : ''}">Quản Lý Nhân Viên</a></li>
      <li><a th:href="@{/admin/promotions}" th:classappend="${#httpServletRequest.requestURI.startsWith('/admin/promotions') ? 'active' : ''}">Quản Lý Ưu Đãi</a></li>
    </ul>
  </aside>
  <div class="admin-content">
    <div th:replace="${mainContent}">
      <p>Nội dung mặc định nếu không có gì được truyền vào.</p>
    </div>
  </div>
</div>
<script>
  // Add active class to current nav link based on URL (basic example)
  // More robust solution in Thymeleaf is preferred like above with th:classappend
</script>
</body>
</html>